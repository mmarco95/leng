<html>
    <script type="text/javascript" src="chart.js"></script>
 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <head>

</head>

<script>
   

        /*$.ajax({
        url: 'prova.json',
        dataType:'json',
        type: 'get',
        cache: false,
        success: function(data) {
                $(data.prova).each(function(index, value){
                    console.log(value);    
                    var label = JSON.parse(value.livello);  
                                                
                });

            }          
        }); */

                $(document).ready(function() {
                $.ajax({
                    type: "GET",
                    url: "bar-data.txt",
                    dataType: "text",
                    success: function(data) {processData(data);}
                });
            });

        function processData(allText) {
            var allTextLines = allText.split(/\r\n|\n/);
            var headers = allTextLines[0].split(',');
            var lines = [];

            for (var i=1; i<allTextLines.length; i++) {
                var data = allTextLines[i].split(',');
                if (data.length == headers.length) {

                    var tarr = [];
                    for (var j=0; j<headers.length; j++) {
                        tarr.push(headers[j]+":"+data[j]);
                    }
                    lines.push(tarr);
                }
            }
            //alert(lines[0][0]);
            var ctx = document.getElementById("myChart2");
        var myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: [395, 409, 230],
                datasets: [{
                    label: '# of Votes',
                    data: [395, 409, 230],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.8)',
                        'rgba(54, 162, 235, 0.8)',
                        'rgba(255, 206, 86, 0.8)',
                        
                    ],
                    borderColor: [
                        'rgba(255,99,132,1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero:true
                        }
                    }],
                    legend: {
                        display: false
                    },
                    tooltips: {
                        callbacks: {
                            label: function(tooltipItem) {
                                return tooltipItem.yLabel;
                            }   
                         }   
                    }
                }          
            }           
        });      
        }

        
    </script>
</script>
</html>